# 字符集和编码规则

**编码:** 在屏幕输入文字 -> 根据指定编码类型 -> 将输入的文字编码成计算机能够识别的二进制数 -> 计算机存储编辑成的二进制数值。

变长编码⽅式：⼀个字符在编码需要的字节数可能不同。

> 比如GB2312编码方式,因为GB2312字符集兼容了ASCII字符,所以当一个字符串中有的字符属于ASCII字符集中的字符时,它编码时需要占用的字节数为1,如果字符属于ASCII字符集中没有的,则编码时需要占用2个字节。

常见字符集：

**ASCII**：只能显示26个基本拉丁字母、阿拉伯数目字和英式标点符号。到目前为止总共定义了128个字符。

**ISO 8859-1字符集**：在ASCII字符集的基础上⼜扩充了128 个⻄欧常⽤字符(包括德法两国的字⺟),共收录256个字符。  

**GB2312**：**GB2312字符集共收录了6763个简体汉字**，它收录包括了拉丁字母、日文平假名等在内的682个全角字符。

> 因为它兼容了ASCII字符集，**如果字符属于ASCII字符集中的字符的话,则编码时需要使用1个字节进行编码,如果不属于ASCII字符集,则需要使用2个字节进行编码。**

**GBK**：拓展了GB2312字符集,共收录了两万多个文字。

**Unicode字符集**：**为每种语言中的每个字符设定了统一并且唯一的二进制编码**

> **Unicode编码标准现在有三种具体实现,分别是:UTF-8、UTF-16、UTF-32。**
>
> **UTF-8编码使用一至四个字节为每个字符编码**(其中ASCII字符集中的128个字符只占1字节,还有附加符文的拉丁文、希腊文等需要2个字节,其他常用的文字占用3个字节,还有极少数的字符占用4个字节)。
>
> UTF16：**它在空间效率上比UTF-32高两倍，因为每个字符只需要2个字节来存储（除去65535范围以外的），而不是UTF-32中的4个字节。不兼容ASCII。**
>
> UTF32：定长4个字节。

**unicode是指一张表，里面包含了可能出现的所有字符，每个字符对应一个数字，这个数字称为码点(code point)**，这个数字一般来说是不能直接使用的，于是就有了对于码点的不同的编码方式，比如utf-8，utf-16和utf-32，这其中的8，16和32是表示在对应的编码方式里面，一个码点必须是这个数的N倍，比如utf-8的可能是8个bit，16个bit，24个bit，32个bit (8*N)，对应的，如果使用utf-16来编码，则可能出现的是16*N，utf-32类似，utf-8与其他两种的不同在于可以完全兼容ascii的，因为ascii是8个bit的，所以utf-16和utf-32（至少是16个bit和32个bit）是不可能跟ascii兼容的，而由于目前unicode的表的大小可以算到如果使用utf-32编码的话，用32个bit就能完全容纳下所有的码点，所以utf-32的特点是每一个字符编码后都是4个字节，是定长的，相对的utf-8和utf-16都是变长的

```bash
UTF-8就是使用变长字节表示,顾名思义，就是使用的字节数可变，这个变化是根据 Unicode 编号的大小有关，编号小的使用的字节就少，编号大的使用的字节就多。使用的字节个数从1到4个不等。

UTF-8的编码规则：

① 对于单字节的符号，字节的第一位设为0，后面的7位为这个符号的Unicode码，因此对于英文字母，UTF-8编码和ASCII码是相同的。 

② 对于n字节的符号（n>1）,第一个字节的前n位都设为1，第n+1位设为0，后面字节的前两位一律设为10，剩下的没有提及的二进制位，全部为这个符号的Unicode码 。

举个例子：比如说一个字符的Unicode编码是130，显然按照UTF-8的规则一个字节是表示不了它（因为如果是一个字节的话前面的一位必须是0），所以需要两个字节(n = 2)。

根据规则，第一个字节的前 2 位都设为1，第3(2+1)位设为0，则第一个字节为：110X XXXX，后面字节的前两位一律设为10，后面只剩下一个字节，所以后面的字节为：10XX XXXX。所以它的格式为110XXXXX 10XXXXXX 。

Unicode编号范围与对应的UTF-8二进制格式 ：

对于一个具体的Unicode编号，具体进行UTF-8的编码的方法：

首先找到该Unicode编号所在的编号范围，进而可以找到与之对应的二进制格式，然后将该Unicode编号转化为二进制数（去掉高位的0），最后将该二进制数从右向左依次填入二进制格式的X中，如果还有X未填，则设为0 。

比如：“马”的Unicode编号是：0x9A6C,整数编号是39532，对应第三个范围（2048 - 65535），其格式为：1110XXXX 10XXXXXX 10XXXXXX，39532 对应的二进制是 1001 1010 0110 1100，将二进制填入进入就为： 11101001 10101001 10101100 。

由于UTF-8的处理单元为一个字节（也就是一次处理一个字节），所以处理器在处理的时候就不需要考虑这一个字节的存储是在高位还是在低位，直接拿到这个字节进行处理就行了，因为大小端是针对大于一个字节的数的存储问题而言的。
```



# mysql

![img](https://raw.githubusercontent.com/SAH01/wordpress-img/master/imgs/7aabf39aabe04520f76c5b868ca45371.png)

比较规则

- 服务器级别 server
- 数据库级别 database
- 表级别 table
- 列级别 column

![img](https://raw.githubusercontent.com/SAH01/wordpress-img/master/imgs/e12336bd747df007084853118bf8df46.png)

